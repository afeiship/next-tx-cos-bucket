/*!
 * name: @feizheng/next-tx-cos-bucket
 * description: Tencent cos bucket for next.
 * homepage: https://github.com/afeiship/next-tx-cos-bucket
 * version: 1.0.2
 * date: 2020-05-01T02:26:53.210Z
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),t=e.nx||require("@feizheng/next-js-core2"),n=require("@feizheng/next-tx-abstract-cos"),u=require("bluebird"),c={del:"deleteBucketAsync",gets:"getServiceAsync"},i=t.declare("nx.TxCosBucket",{extends:n,methods:{"put,get,del,head,gets":function(t){return function(e){return this.parseOptions(e),this.cos[c[t]||t+"BucketAsync"](e)}},destroy:function(n){var c=this;return new u(function(t){c.has(n).then(function(e){e?c.del(n).then(t).catch(t):t(null)}).catch(t)})},create:function(e){var n=this,c=t.mix(null,{ACL:"public-read"},e);return new u(function(t){n.has(c).then(function(e){e?t(null):n.put(c).then(t).catch(t)}).catch(t)})},has:function(t){var n=this;return new u(function(e){n.head(t).then(function(){e(!0)}).catch(function(){e(!1)})})}}});"undefined"!=typeof module&&module.exports&&(module.exports=i)}();